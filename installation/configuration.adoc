---
sidebar: sidebar
permalink: installation/configuration.html
keywords: configuration keystone collector
summary: configuration of Keystone collector
---

= Configure Keystone Collector
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
You need to complete a few configuration tasks to enable Keystone Collector to collect usage data in your storage environment. This is a one-time activity to activate and associate the required collector component with Active IQ Unified Manager (Unified Manager). 

All the ONTAP clusters and StorageGRID nodes that are managed by Unified Manager can be monitored. Follow these steps:

.Steps

. Open the Keystone Collector management TUI utility:
`$ keystone-collector-tui`
. Go to **Configure > KS-Collector** to open the Keystone Collector configuration screen and add the details for the Unified Manager server and service account. If Performance monitoring is required in this environment for SLA purposes, enable the **Collect ONTAP Performance Data** option, and provide the Unified Manager Database user account details. For information, see link:../addl-req.html[Create Unified Manager users].
. Toggle the **Enable KS-Collector Service** field.
. Click **Save**.
image:tui-1.png[]
. Ensure that Keystone Collector is in a healthy state by returning to the main screen of the TUI and verifying the **Service Status** information. The system should show that the services are in an **Overall: Healthy** status.
image:tui-2.png[]
. Exit the Keystone Collector management TUI by selecting the **Exit to Shell** option on the home screen.

== Configure HTTP Proxy on Keystone Collector
The Collector software supports using a HTTP proxy to communicate with the internet. This can be configured in the TUI.

.Steps

. Open the Keystone Collector management TUI utility if already closed:
`$ keystone-collector-tui`
. Toggle on the **HTTP Proxy** field, and add the details for the HTTP proxy server, port, and credentials, if authentication is required.
. Click **Save**.
image:tui-3.png[]

== Limit collection of private data
The Keystone Collector gathers limited configuration, status, and performance information required to perform subscription metering. There is an option to further limit the information collected by masking sensitive information from the content uploaded. This does not impact billing calculation. However, limiting the information might impact usability of the reporting information, as some elements, which can be easily identified by users, such as volume name, is replaced with UUIDs. 

The option to limiting the data, **Remove Private Data**, is configurable on the TUI configuration screen. This option is disabled by default.

image:tui-4.png[]

For information about the items removed on limiting private data access, see link:../installation//data-collection.html[List of items removed on limiting private data access].

